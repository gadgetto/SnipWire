var WebhooksEndpointUrl={sanitize:function(e){return 0!==(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=jQuery.trim(e)).toLowerCase()).replace(/['"\u0022\u0027\u00AB\u00BB\u2018\u2019\u201A\u201B\u201C\u201D\u201E\u201F\u2039\u203A\u300C\u300D\u300E\u300F\u301D\u301E\u301F\uFE41\uFE42\uFE43\uFE44\uFF02\uFF07\uFF62\uFF63]/g,"")).replace(/[^\/-_.a-z0-9 ]/g,"-")).replace(/\s+/g,"-")).replace(/--+/g,"-")).replace(/\.\.+/g,".")).replace(/\/\/+/g,"/")).replace(/(\.-|-\.)/g,"-")).replace(/(^[-_.]+|[-_.]+$)/g,"")).lastIndexOf("/",0)&&(e="/"+e),e.length>128&&(e=$.trim(e).substring(0,128).split("-").slice(0,-1).join(" ")),e},updatePreview:function(e){var o=ProcessWire.config.SnipWire.httpRoot;$("#webhooks_endpoint_url").val(e.length>0?o+e:o)}},ClipboardHelper={copy:function(e){var o=$(e),n=o.attr("disabled"),r=!1;void 0!==n&&!1!==n&&(o.prop("disabled",!1),r=!0),o.prop("disabled",!1),o.focus(),o.select(),document.execCommand("copy"),!0===r&&o.prop("disabled",!0)}},languageStrings=config.languageStrings;jQuery(document).ready((function(e){var o,n=e("#TaxesRepeater").repeater({hide:function(o){var n=e(this);ProcessWire.confirm(languageStrings.confirm_delete,(function(){n.slideUp(o)}))},sortable:!0,singleItemUndeletable:!0}),r=e("#taxes");try{o=JSON.parse(r.val())}catch(e){o=[]}n.setList(o),e("#ModuleEditForm").on("submit",(function(){r.val(JSON.stringify(n.repeaterVal().taxesgroup))})),e("#webhooks_endpoint").on("input",(function(){var o=WebhooksEndpointUrl.sanitize(e(this).val());WebhooksEndpointUrl.updatePreview(o)})),e("#webhooks_endpoint_url_copy").on("click",(function(){ClipboardHelper.copy("#webhooks_endpoint_url")}))}));