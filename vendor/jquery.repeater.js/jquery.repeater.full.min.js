/**
 * jquery.repeater version 1.3.1
 *
 * https://github.com/DubFriend/jquery.repeater
 * (MIT) 09-10-2016
 * Brian Detering <BDeterin@gmail.com> (http://www.briandetering.net/)
 *
 * jquery.input version 0.1.0
 * https://github.com/DubFriend/jquery.input
 * (MIT) 07-06-2018
 * Brian Detering <BDeterin@gmail.com> (http://www.briandetering.net/)
 *
 * Enhancements and fixes by
 *  - @nkchinh (Chinh Nguyen) 2019
 *    https://github.com/nkchinh/jquery.repeater
 *
 * @preserve
 */
!function(t){"use strict";var e,n=function(e){return t.isArray(e)},r=function(t){return!n(t)&&t instanceof Object},i=function(t){return t instanceof Function},u=function(e,n){return t.inArray(n,e)},a=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n,t)},c=function(t,e){var n=[];return a(t,function(t,r,i){n.push(e(t,r,i))}),n},o=function(t,e,r){return n(t)?c(t,e):function(t,e,n){var r={};return a(t,function(t,i,u){i=n?n(i,t):i,r[i]=e(t,i,u)}),r}(t,e,r)},f=function(t,e,n){return o(t,function(t,r){return t[e].apply(t,n||[])})},s=(e=0,function(){var t={},e=function(t){var e,n,r,i,u,a,c="",o="",f=(i=-1!==t.indexOf("#"),u=-1!==t.indexOf("?"),a="",u&&(a=t.split("?")[1]||"",i&&(a=a.split("#")[0]||"")),c=u?t.split("?")[0]||"":i?t.split("#")[0]||"":t,i&&(o=t.split("#")[1]||""),a?a.split("&"):[]),s={};for(r=0;r<f.length;r+=1)e=f[r].split("=")[0],n=f[r].split("=")[1],s[e]=n;return{url:c||"",hash:o||"",parameters:s}};t.get=function(t){return e(t).parameters},t.set=function(t,n){var r=e(t);return r.parameters=function(){var t,e={};for(t=0;t<arguments.length;t+=1)a(arguments[t],function(t,n){e[n]=t});return e}(r.parameters,n),function(t){var e=[];return a(t.parameters,function(n,r){e.push(r+"="+t.parameters[r])}),t.url+(e.length>0?"?"+e.join("&"):"")+(t.hash?"#"+t.hash:"")}(r)}}(),function(t){var e=Array.prototype.slice.call(arguments,1);if(i(t));}(function(e,n,r){return t(e+(r?"-"+r:"")+(n?"-"+n:""))},".frm"),function(t,e){var n,r,i,c=(r={},(n=n||{}).publish=function(t,e){a(r[t],function(t){t(e)})},n.subscribe=function(t,e){r[t]=r[t]||[],r[t].push(e)},n.unsubscribe=function(t){a(r,function(e){var n=u(e,t);-1!==n&&e.splice(n,1)})},n),o=t.$;return c.getType=function(){throw'implement me (return type. "text", "radio", etc.)'},c.$=function(t){return t?o.find(t):o},c.disable=function(){c.$().prop("disabled",!0),c.publish("isEnabled",!1)},c.enable=function(){c.$().prop("disabled",!1),c.publish("isEnabled",!0)},e.equalTo=function(t,e){return t===e},e.publishChange=function(t,n){var r=c.get();e.equalTo(r,i)||c.publish("change",{e:t,domElement:n}),i=r},c}),p=function(t,e){var n=s(t,e);return n.get=function(){return n.$().val()},n.set=function(t){n.$().val(t)},n.clear=function(){n.set("")},e.buildSetter=function(t){return function(e){t.call(n,e)}},n},l=function(t,e){t=n(t)?t:[t],e=n(e)?e:[e];var r=!0;return t.length!==e.length?r=!1:a(t,function(t){(function(t,e){return-1!==u(t,e)})(e,t)||(r=!1)}),r},h=function(t){var e={},n=p(t,e);return n.getType=function(){return"button"},n.$().on("change",function(t){e.publishChange(t,this)}),n},d=function(e){var r={},i=p(e,r);return i.getType=function(){return"checkbox"},i.get=function(){var e=[];return i.$().filter(":checked").each(function(){e.push(t(this).val())}),e},i.set=function(e){e=n(e)?e:[e],i.$().each(function(){t(this).prop("checked",!1)}),a(e,function(t){i.$().filter('[value="'+t+'"]').prop("checked",!0)})},r.equalTo=l,i.$().change(function(t){r.publishChange(t,this)}),i},v=function(t){var e=w(t,{});return e.getType=function(){return"email"},e},m=function(e){var n={},r=s(e,n);return r.getType=function(){return"file"},r.get=function(){return(t=r.$().val().split("\\"))[t.length-1];var t},r.clear=function(){this.$().each(function(){t(this).wrap("<form>").closest("form").get(0).reset(),t(this).unwrap()})},r.$().change(function(t){n.publishChange(t,this)}),r},g=function(t){var e={},n=p(t,e);return n.getType=function(){return"hidden"},n.$().change(function(t){e.publishChange(t,this)}),n},y=function(e){var n={},r=s(e,n);return r.getType=function(){return"file[multiple]"},r.get=function(){var t,e=r.$().get(0).files||[],n=[];for(t=0;t<(e.length||0);t+=1)n.push(e[t].name);return n},r.clear=function(){this.$().each(function(){t(this).wrap("<form>").closest("form").get(0).reset(),t(this).unwrap()})},r.$().change(function(t){n.publishChange(t,this)}),r},b=function(t){var e={},r=p(t,e);return r.getType=function(){return"select[multiple]"},r.get=function(){return r.$().val()||[]},r.set=function(t){r.$().val(""===t?[]:n(t)?t:[t])},e.equalTo=l,r.$().change(function(t){e.publishChange(t,this)}),r},$=function(t){var e=w(t,{});return e.getType=function(){return"password"},e},k=function(e){var n={},r=p(e,n);return r.getType=function(){return"radio"},r.get=function(){return r.$().filter(":checked").val()||null},r.set=function(e){e?r.$().filter('[value="'+e+'"]').prop("checked",!0):r.$().each(function(){t(this).prop("checked",!1)})},r.$().change(function(t){n.publishChange(t,this)}),r},x=function(t){var e={},n=p(t,e);return n.getType=function(){return"range"},n.$().change(function(t){e.publishChange(t,this)}),n},T=function(t){var e={},n=p(t,e);return n.getType=function(){return"select"},n.$().change(function(t){e.publishChange(t,this)}),n},w=function(t){var e={},n=p(t,e);return n.getType=function(){return"text"},n.$().on("change keyup keydown",function(t){e.publishChange(t,this)}),n},C=function(t){var e={},n=p(t,e);return n.getType=function(){return"textarea"},n.$().on("change keyup keydown",function(t){e.publishChange(t,this)}),n},j=function(t){var e=w(t,{});return e.getType=function(){return"url"},e},O=function(e){var n={},i=e.$,c=e.constructorOverride||{button:h,text:w,url:j,email:v,password:$,range:x,textarea:C,select:T,"select[multiple]":b,radio:k,checkbox:d,file:m,"file[multiple]":y,hidden:g},o=function(e,u){(r(u)?u:i.find(u)).each(function(){var r=t(this).attr("name");n[r]=c[e]({$:t(this)})})},f=function(e,o){var f=[],s=r(o)?o:i.find(o);r(o)?n[s.attr("name")]=c[e]({$:s}):(s.each(function(){t(this).attr("name");-1===u(f,t(this).attr("name"))&&f.push(t(this).attr("name"))}),a(f,function(t){n[t]=c[e]({$:i.find('input[name="'+t+'"]')})}))};return i.is("input, select, textarea")?i.is('input[type="button"], button, input[type="submit"]')?o("button",i):i.is("textarea")?o("textarea",i):i.is('input[type="text"]')||i.is("input")&&!i.attr("type")?o("text",i):i.is('input[type="password"]')?o("password",i):i.is('input[type="email"]')?o("email",i):i.is('input[type="url"]')?o("url",i):i.is('input[type="range"]')?o("range",i):i.is("select")?i.is("[multiple]")?o("select[multiple]",i):o("select",i):i.is('input[type="file"]')?i.is("[multiple]")?o("file[multiple]",i):o("file",i):i.is('input[type="hidden"]')?o("hidden",i):i.is('input[type="radio"]')?f("radio",i):i.is('input[type="checkbox"]')?f("checkbox",i):o("text",i):(o("button",'input[type="button"], button, input[type="submit"]'),o("text",'input[type="text"]'),o("password",'input[type="password"]'),o("email",'input[type="email"]'),o("url",'input[type="url"]'),o("range",'input[type="range"]'),o("textarea","textarea"),o("select","select:not([multiple])"),o("select[multiple]","select[multiple]"),o("file",'input[type="file"]:not([multiple])'),o("file[multiple]",'input[type="file"][multiple]'),o("hidden",'input[type="hidden"]'),f("radio",'input[type="radio"]'),f("checkbox",'input[type="checkbox"]')),n};t.fn.inputVal=function(e){var n=t(this),r=O({$:n});return n.is("input, textarea, select")?void 0===e?r[n.attr("name")].get():(r[n.attr("name")].set(e),n):void 0===e?f(r,"get"):(a(e,function(t,e){r[e]&&r[e].set(t)}),n)},t.fn.inputOnChange=function(e){var n=t(this),r=O({$:n});return a(r,function(t){t.subscribe("change",function(t){e.call(t.domElement,t.e)})}),n},t.fn.inputDisable=function(){var e=t(this);return f(O({$:e}),"disable"),e},t.fn.inputEnable=function(){var e=t(this);return f(O({$:e}),"enable"),e},t.fn.inputClear=function(){var e=t(this);return f(O({$:e}),"clear"),e}}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(t){"use strict";function e(t){return t}function n(e){return t.isArray(e)}function r(t,e){t&&Object.keys(t).forEach(function(n){return e(t[n],n,t)})}function i(t,e,i){return n(t)?function(t,e){var n=[];return r(t,function(t,r,i){n.push(e(t,r,i))}),n}(t,e):function(t,e,n){var i={};return r(t,function(t,r,u){r=n?n(r,t):r,i[r]=e(t,r,u)}),i}(t,e,i)}(t=t&&t.hasOwnProperty("default")?t.default:t).fn.repeaterVal=function(){var e,n;return function t(e){if(1===e.length&&(0===e[0].key.length||1===e[0].key.length)&&!e[0].key[0])return e[0].val;r(e,function(t){t.head=t.key.shift()});var n,i,u=(n={},r(e,function(t){n[t.head]||(n[t.head]=[]),n[t.head].push(t)}),n);return/^[0-9]+$/.test(e[0].head)?(i=[],r(u,function(e){i.push(t(e))})):(i={},r(u,function(e,n){i[n]=t(e)})),i}((e=t(this).inputVal(),n=[],r(e,function(t,e){var r=[];"undefined"!==e&&(r.push(e.match(/^[^[]*/)[0]),r=r.concat(i(e.match(/\[[^\]]*\]/g),function(t){return t.replace(/[[\]]/g,"")})),n.push({val:t,key:r}))}),n))},t.fn.repeater=function(u){var a;return u=u||{},t(this).each(function(){var c=t(this),o=u.show||function(){t(this).show()},f=u.hide||function(t){t()},s=c.find("[data-repeater-list]").first(),p=function(e,n){return e.filter(function(){return!n||0===t(this).closest((e=n,r="selector",i(e,function(t){return t[r]})).join(",")).length;var e,r})},l=function(){return p(s.find("[data-repeater-item]"),u.repeaters)},h=s.find("[data-repeater-item]").first().clone().hide(),d=p(p(t(this).find("[data-repeater-item]"),u.repeaters).first().find("[data-repeater-delete]"),u.repeaters);u.isFirstItemUndeletable&&d&&d.remove();var v=function(){var t=s.data("repeater-list");return u.$parent?"".concat(u.$parent.data("item-name"),"[").concat(t,"]"):t},m=function(e){u.repeaters&&e.each(function(){var e=t(this);r(u.repeaters,function(t){e.find(t.selector).repeater(function(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return r(n,function(e){r(e,function(e,n){t[n]=e})}),t}(t,{$parent:e}))})})},g=function(t,e,n){t&&r(t,function(t){n.call(e.find(t.selector)[0],t)})};function y(e,n,r){e.each(function(e){var i=t(this);i.data("item-name","".concat(n,"[").concat(e,"]")),p(i.find("[name]"),r).each(function(){var u,a=t(this),c=a.attr("name").match(/\[[^\]]+\]/g),o=c?(u=c,u[u.length-1]).replace(/\[|\]/g,""):a.attr("name"),f="".concat(n,"[").concat(e,"][").concat(o,"]").concat(a.is(":checkbox")||a.attr("multiple")?"[]":"");a.attr("name",f),g(r,i,function(r){var i=t(this);y(p(i.find("[data-repeater-item]"),r.repeaters||[]),"".concat(n,"[").concat(e,"]")+"[".concat(i.find("[data-repeater-list]").first().data("repeater-list"),"]"),r.repeaters)})})}),s.find("input[name][checked]").removeAttr("checked").prop("checked",!0)}y(l(),v(),u.repeaters),m(l()),u.initEmpty&&l().remove(),u.ready&&u.ready(function(){y(l(),v(),u.repeaters)});var b=function(){function a(c,o,f){if(o||u.defaultValues){var s={};p(c.find("[name]"),f).each(function(){var e=t(this).attr("name").match(/\[([^\]]*)(\]|\]\[\])$/)[1];s[e]=t(this).attr("name")}),c.inputVal(i((l=o||u.defaultValues,h=function(t,e){return s[e]},n(l)?(d=[],r(l,function(t,e,n){h(t,e,n)&&d.push(t)})):(d={},r(l,function(t,e,n){h(t,e,n)&&(d[e]=t)})),d),e,function(t){return s[t]}))}var l,h,d;g(f,c,function(e){var n=t(this);p(n.find("[data-repeater-item]"),e.repeaters).each(function(){var i=n.find("[data-repeater-list]").data("repeater-list");if(o&&o[i]){var u=t(this).clone();n.find("[data-repeater-item]").remove(),r(o[i],function(t){var r=u.clone();a(r,t,e.repeaters||[]),n.find("[data-repeater-list]").append(r)})}else a(t(this),e.defaultValues,e.repeaters||[])})})}return function(e,n){s.append(e),y(l(),v(),u.repeaters),e.find("[name]").each(function(){t(this).inputClear()}),a(e,n||u.defaultValues,u.repeaters)}}(),$=function(t){var e=h.clone();b(e,t),u.repeaters&&m(e),o.call(e.get(0))};a=function(t){l().remove(),r(t,$)},p(c.find("[data-repeater-create]"),u.repeaters).click(function(){$()}),s.on("click","[data-repeater-delete]",function(){var e=t(this).closest("[data-repeater-item]").get(0);f.call(e,function(){t(e).remove(),y(l(),v(),u.repeaters)})})}),this.setList=a,this}});